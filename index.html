<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AneStation</title>
    <meta name="description" content="AneStation — a retro-console inspired desktop experience." />

    <link rel="icon" href="assets/icon.ico" sizes="any" />
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg" />
    <link rel="apple-touch-icon" href="assets/icon.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <a class="skip" href="#top">Skip to content</a>

    <header class="nav" role="banner">
      <div class="navInner">
        <a class="brand" href="#top">
          <span class="brandText">AneStation</span>
        </a>
        <nav aria-label="Primary">
          <a href="#how" data-nav="how">How it works</a>
          <a href="#features" data-nav="features">Features</a>
          <a href="#gallery" data-nav="gallery">Gallery</a>
          <a href="#download" data-nav="download">Download</a>
          <a href="#status" data-nav="status">Status</a>
          <a href="#faq" data-nav="faq">FAQ</a>
        </nav>
      </div>
    </header>

    <main class="wrap" id="top">
      <div class="topLogo" aria-hidden="true">
        <img src="assets/logo.svg" alt="" />
      </div>

      <section class="hero">
        <div class="heroGrid">
          <div class="heroText">
            <p class="kicker">AneStation</p>
            <h1>Boot &amp; Play.</h1>
            <p class="sub">
              A console-like experience for your PC library. Insert media, power on, play.
            </p>

            <div class="cta">
              <a class="btn" id="downloadBtn" href="#download">Download</a>
              <a class="btn secondary" href="https://github.com/Neburb/AneStation" target="_blank" rel="noreferrer">GitHub</a>
            </div>

            <p class="meta" id="releaseMeta" aria-live="polite"></p>
          </div>

          <div class="heroPreview" aria-label="Preview">
            <div class="crt">
              <video class="heroVideo" autoplay loop muted playsinline preload="metadata">
                <source src="assets/boot-and-play.webm" type="video/webm" />
              </video>
            </div>
            <p class="hint">Boot &amp; Play — short capture (looped).</p>
          </div>
        </div>
      </section>

      <section id="how" class="section split">
        <div class="splitText">
          <h2>How it works</h2>
          <p class="lead">AneStation is designed to behave like a console BIOS: insert media, it’s detected, you’re ready to launch.</p>
          <ol class="steps">
            <li><strong>Insert media</strong> — USB/SD with a <code>media.yml</code> at the root.</li>
            <li><strong>Detect & show</strong> — game name, artwork, and optional metadata.</li>
            <li><strong>Launch</strong> — gamepad-friendly navigation and instant boot flow.</li>
          </ol>
        </div>
        <div class="splitMedia">
          <div class="crt">
            <div class="placeholder">
              <strong>How-it-works screenshot</strong>
              <p>Placeholder: a wide screenshot showing the “media detected” state.</p>
            </div>
          </div>
        </div>
      </section>

      <section id="features" class="section">
        <h2>Features</h2>
        <p class="lead">Inspired by the simplicity of ‘90s consoles: insert media, power on, play.</p>

        <div class="featureStack">
          <article class="featureItem">
            <div class="featureText">
              <h3>Pure play</h3>
              <p>Boot straight into the experience—no extra steps between you and the game.</p>
              <ul>
                <li>Zero setup (once your media is prepared)</li>
                <li>Direct to gameplay</li>
                <li>Gamepad-first navigation</li>
                <li>Distraction-free UI</li>
              </ul>
            </div>
            <div class="featureMedia">
              <div class="crt">
                <div class="placeholder">
                  <strong>Pure play screenshot</strong>
                  <p>Placeholder: Main view right after media detection / auto-boot.</p>
                </div>
              </div>
            </div>
          </article>

          <article class="featureItem reverse">
            <div class="featureText">
              <h3>Create · Collect · Play</h3>
              <p>Turn digital games into a tangible “cartridge” workflow using SD/USB media.</p>
              <ul>
                <li>Use SD cards or USB drives as “carts”</li>
                <li>Portable library you can keep forever</li>
                <li>Offline-friendly by design</li>
              </ul>
            </div>
            <div class="featureMedia">
              <div class="crt">
                <div class="placeholder">
                  <strong>Cartridge workflow screenshot</strong>
                  <p>Placeholder: media.yml + artwork + detected title.</p>
                </div>
              </div>
            </div>
          </article>

          <article class="featureItem">
            <div class="featureText">
              <h3>Save management</h3>
              <p>Your save data is managed like a console memory card: predictable and portable.</p>
              <ul>
                <li>Automatic save capture</li>
                <li>View / delete saves</li>
                <li>Backups to external media (planned)</li>
              </ul>
            </div>
            <div class="featureMedia">
              <div class="crt">
                <div class="placeholder">
                  <strong>Saves screenshot</strong>
                  <p>Placeholder: Saves menu and info panel.</p>
                </div>
              </div>
            </div>
          </article>

          <article class="featureItem reverse">
            <div class="featureText">
              <h3>OTA updates</h3>
              <p>Update flow designed for living-room machines (with visibility + progress).</p>
              <ul>
                <li>Release channels</li>
                <li>Progress UI</li>
                <li>Rollback strategy (placeholder)</li>
              </ul>
            </div>
            <div class="featureMedia">
              <div class="crt">
                <div class="placeholder">
                  <strong>OTA screenshot</strong>
                  <p>Placeholder: OTA progress overlay.</p>
                </div>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section id="gallery" class="section">
        <h2>Gallery</h2>
        <p class="lead">A few key screens. Replace these placeholders with real captures as the UI locks in.</p>

        <div class="covers">
          <article class="cover">
            <div class="coverImg">
              <div class="placeholder">
                <strong>Main screen</strong>
                <p>Placeholder: Main view with media inserted.</p>
              </div>
            </div>
            <div class="coverMeta">
              <h3>Main</h3>
              <p>Default home screen (idle vs media detected states).</p>
            </div>
          </article>

          <article class="cover">
            <div class="coverImg">
              <div class="placeholder">
                <strong>Menu</strong>
                <p>Placeholder: Menu navigation.</p>
              </div>
            </div>
            <div class="coverMeta">
              <h3>Menu</h3>
              <p>Console-style options and quick actions.</p>
            </div>
          </article>

          <article class="cover">
            <div class="coverImg">
              <div class="placeholder">
                <strong>Apps / Options</strong>
                <p>Placeholder: Apps gallery / Options screen.</p>
              </div>
            </div>
            <div class="coverMeta">
              <h3>Apps & Options</h3>
              <p>Gallery tiles, settings, and tools.</p>
            </div>
          </article>
        </div>
      </section>

      <section id="download" class="download">
        <h2>Download</h2>
        <p class="muted">Latest release: <span id="releaseTag">—</span></p>
        <div class="cta">
          <a class="btn" id="downloadPrimary" href="https://github.com/Neburb/anestation-pages/releases" target="_blank" rel="noreferrer">Open releases</a>
          <a class="btn secondary" id="downloadSecondary" href="https://github.com/Neburb/anestation-pages" target="_blank" rel="noreferrer">View repo</a>
        </div>
        <p class="note" id="downloadNote">Loading latest release…</p>
      </section>

      <section id="less-friction" class="section manifesto">
        <h2>Less friction</h2>
        <p class="lead">No noise. No distractions. Just the essentials.</p>
        <ul class="noList">
          <li><strong>No accounts</strong> — AneStation doesn’t require logins.</li>
          <li><strong>No stores</strong> — no storefronts, no ads.</li>
          <li><strong>No extra software</strong> — no companion apps to “manage” your library.</li>
          <li><strong>DRM‑free friendly</strong> — bring your own games and keep them playable.</li>
        </ul>
        <p class="conclusion">Just plug, and play — like in the old days.</p>
      </section>

      <section id="status" class="status section">
        <h2>Project status</h2>
        <ul>
          <li>Landing page: online</li>
          <li>Core app: active development</li>
        </ul>
        <p class="note">Want to help? Open an issue or propose a PR.</p>
      </section>

      <section id="faq" class="section">
        <h2>FAQ</h2>
        <div class="faq">
          <details>
            <summary>Is AneStation an emulator?</summary>
            <p>No. It’s a launcher shell. Emulation is handled by whatever you configure to run.</p>
          </details>
          <details>
            <summary>Which platforms are supported?</summary>
            <p>Placeholder: list target OS (Windows first) and future plans.</p>
          </details>
          <details>
            <summary>How do updates work?</summary>
            <p>Placeholder: describe OTA behavior and update prompts.</p>
          </details>
        </div>
      </section>

      <footer class="footer">
        <p>
          © <span id="y"></span> AneStation · <a href="https://github.com/Neburb/AneStation" target="_blank" rel="noreferrer">Source</a>
        </p>
      </footer>
    </main>

    <script>
      // Active section highlight for the sticky nav
      (function () {
        const links = Array.from(document.querySelectorAll('header.nav nav a'));
        const sections = links
          .map((a) => document.querySelector(a.getAttribute('href')))
          .filter(Boolean);

        const setActive = (id) => {
          links.forEach((a) => a.classList.toggle('active', a.getAttribute('href') === `#${id}`));
        };

        const io = new IntersectionObserver(
          (entries) => {
            const visible = entries
              .filter((e) => e.isIntersecting)
              .sort((a, b) => b.intersectionRatio - a.intersectionRatio)[0];
            if (visible?.target?.id) setActive(visible.target.id);
          },
          { root: null, threshold: [0.15, 0.25, 0.5], rootMargin: '-25% 0px -60% 0px' }
        );

        sections.forEach((s) => io.observe(s));
        setActive('how');
      })();
    </script>

    <script>
      document.getElementById('y').textContent = new Date().getFullYear();

      const pickPrimaryAsset = (assets) => {
        if (!Array.isArray(assets)) return null;
        // Prefer Windows portable exe; fallback to first asset.
        const exe = assets.find(a => typeof a?.name === 'string' && a.name.toLowerCase().endsWith('.exe'));
        return exe ?? assets[0] ?? null;
      };

      fetch('./latest.json', { cache: 'no-store' })
        .then(r => r.json())
        .then((data) => {
          const tag = data?.tag ?? null;
          const assets = data?.assets ?? [];
          const primary = pickPrimaryAsset(assets);

          const releaseTag = document.getElementById('releaseTag');
          const releaseMeta = document.getElementById('releaseMeta');
          const note = document.getElementById('downloadNote');
          const primaryBtn = document.getElementById('downloadPrimary');
          const secondaryBtn = document.getElementById('downloadSecondary');

          if (tag) {
            releaseTag.textContent = tag;
            releaseMeta.textContent = `Latest release: ${tag}`;
          } else {
            releaseMeta.textContent = '';
          }

          const htmlUrl = data?.htmlUrl || 'https://github.com/Neburb/AneStation';
          secondaryBtn.href = htmlUrl;

          if (primary?.url) {
            primaryBtn.href = primary.url;
            primaryBtn.textContent = `Download ${primary.name || tag || ''}`.trim();
            note.textContent = primary.size ? `File size: ${primary.size}` : 'Ready.';
          } else {
            primaryBtn.href = htmlUrl;
            primaryBtn.textContent = tag ? `Open ${tag} release` : 'Open releases';
            note.textContent = 'No downloadable assets found (or not published yet).';
          }
        })
        .catch(() => {
          const note = document.getElementById('downloadNote');
          note.textContent = 'Could not load latest release info.';
        });
    </script>
  </body>
</html>
